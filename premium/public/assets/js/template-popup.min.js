!function(i){"use strict";i(function(){i(".aiovg-video-template-popup").each(function(){var a=i(this),e=a.data("player_ratio");a.magnificPopup({type:"iframe",iframe:{markup:'<div class="mfp-iframe-scaler" style="padding-top: '+e+';"><div class="mfp-close"></div><iframe class="mfp-iframe" frameborder="0" scrolling="no" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe></div>',patterns:{youtube:{index:"youtubedotcom/",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeodotcom/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"}}},mainClass:"aiovg aiovg-template-popup aiovg-magnific-popup mfp-fade",closeOnBgClick:!1})}),i(".aiovg-videos-template-popup").each(function(){var a=i(this),e=null,o=a.data("params"),t='<div class="mfp-iframe-scaler" style="padding-top: '+o.player_ratio+';"><div class="mfp-close"></div><iframe class="mfp-iframe" frameborder="0" scrolling="no" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe></div>';t+='<div class="mfp-bottom-bar">',t+='<h2 class="mfp-title"></h2>',t+='<div class="aiovg-content-after-player aiovg-margin-top aiovg-hide-if-empty">',o.show_playlist_button&&(t+="<aiovg-playlist-button></aiovg-playlist-button>"),o.show_like_button&&(t+="<aiovg-like-button></aiovg-like-button>"),t+="</div>",t+='<div class="mfp-description"></div>',t+="</div>",a.magnificPopup({type:"iframe",iframe:{markup:t},mainClass:"aiovg aiovg-template-popup aiovg-magnific-popup mfp-fade",delegate:".aiovg-popup-item",allowHTMLInStatusIndicator:!0,allowHTMLInTemplate:!0,closeOnBgClick:!1,callbacks:{markupParse:function(i,a,e){o.show_title&&(a.title=e.el.find(".aiovg-hidden-title").html()),o.show_description&&(a.description=e.el.find(".aiovg-hidden-description").html())},change:function(){let t=(e=a.find(".aiovg-popup-item").eq(i.magnificPopup.instance.index)).data("id");o.show_playlist_button&&this.content.find("aiovg-playlist-button").replaceWith('<aiovg-playlist-button post_id="'+t+'"></aiovg-playlist-button>'),o.show_like_button&&this.content.find("aiovg-like-button").replaceWith('<aiovg-like-button post_id="'+t+'"></aiovg-like-button>')}},gallery:{enabled:!0}}),a.on("click",".aiovg-grid a",function(i){i.stopPropagation()}),o.autoadvance&&window.addEventListener("message",function(a){"aiovg-video-ended"==a.data.message&&a.data.id==o.uid&&(e.is(":last-child")?o.loop&&i.magnificPopup.instance.next():i.magnificPopup.instance.next())})}),i(document).on("click",".aiovg-template-popup",function(){i.magnificPopup.close()}),i(document).on("click",".aiovg-template-popup a, .aiovg-template-popup button, .aiovg-template-popup input",function(i){i.stopPropagation()})})}(jQuery);