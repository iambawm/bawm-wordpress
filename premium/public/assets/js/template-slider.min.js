!function(i){"use strict";var a=window.aiovg_template_slider||window.aiovg_premium;function t(i){i.addClass("aiovg-slick-initialized");var a=i.find(".aiovg-slick"),t=i.data("params");return a.on("init",function(a,t){i.find(".aiovg-slick-arrows").show()}).slick({appendArrows:i.find(".aiovg-slick-arrows"),prevArrow:i.find(".aiovg-slick-prev"),nextArrow:i.find(".aiovg-slick-next"),appendDots:i.find(".aiovg-section-videos"),dotsClass:"aiovg-slick-dots",customPaging:function(i,a){return'<div class="aiovg-slick-dot" style="color: '+t.dot_color+"; font-size: "+t.dot_size+'" role="button">&#9679;</div>'}}),a}i(function(){if(i(".aiovg-slider-layout-classic").each(function(){var a=i(this);t(a)}),i(".aiovg-slider-layout-popup").each(function(){var a=i(this),o=null,e=a.data("params"),n='<div class="mfp-iframe-scaler" style="padding-top: '+e.player_ratio+';"><div class="mfp-close"></div><iframe class="mfp-iframe" frameborder="0" scrolling="no" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe></div>';n+='<div class="mfp-bottom-bar">',n+='<h2 class="mfp-title"></h2>',n+='<div class="aiovg-content-after-player aiovg-margin-top aiovg-hide-if-empty">',e.show_playlist_button&&(n+="<aiovg-playlist-button></aiovg-playlist-button>"),e.show_like_button&&(n+="<aiovg-like-button></aiovg-like-button>"),n+="</div>",n+='<div class="mfp-description"></div>',n+="</div>";var l=t(a);a.magnificPopup({type:"iframe",iframe:{markup:n},mainClass:"aiovg aiovg-template-slider aiovg-magnific-popup mfp-fade",delegate:".aiovg-item-video",allowHTMLInStatusIndicator:!0,allowHTMLInTemplate:!0,closeOnBgClick:!1,callbacks:{markupParse:function(i,a,t){e.show_title&&(a.title=t.el.find(".aiovg-hidden-title").html()),e.show_description&&(a.description=t.el.find(".aiovg-hidden-description").html())},change:function(){let t=(o=a.find(".aiovg-item-video").eq(i.magnificPopup.instance.index)).data("id");e.show_playlist_button&&this.content.find("aiovg-playlist-button").replaceWith('<aiovg-playlist-button post_id="'+t+'"></aiovg-playlist-button>'),e.show_like_button&&this.content.find("aiovg-like-button").replaceWith('<aiovg-like-button post_id="'+t+'"></aiovg-like-button>')},open:function(){e.slider_autoplay&&l.slick("slickPause")},close:function(){e.slider_autoplay&&l.slick("slickPlay")}},gallery:{enabled:!0}}),a.on("click","a",function(i){i.stopPropagation()}),e.autoadvance&&window.addEventListener("message",function(a){"aiovg-video-ended"==a.data.message&&a.data.id==e.uid&&(o.is(":last-child")?e.loop&&i.magnificPopup.instance.next():i.magnificPopup.instance.next())})}),i(document).on("click",".aiovg-template-slider",function(){i.magnificPopup.close()}),i(document).on("click",".aiovg-template-slider a, .aiovg-template-slider button, .aiovg-template-slider input",function(i){i.stopPropagation()}),i(".aiovg-slider-layout-compact").each(function(){var o=i(this),e=o.find(".aiovg-active"),n=o.data("params");e.find(".aiovg-responsive-container").append('<span class="aiovg-label-now-playing">'+a.i18n.now_playing+"</span>"),t(o),o.on("click",".aiovg-item-video",function(t){if(t.preventDefault(),(e=i(this)).hasClass("aiovg-active"))return!1;var l=e.data("id"),s=o.find(".aiovg-item-video-"+l);o.find(".aiovg-active").removeClass("aiovg-active"),s.addClass("aiovg-active"),o.find(".aiovg-label-now-playing").remove(),s.find(".aiovg-responsive-container").append('<span class="aiovg-label-now-playing">'+a.i18n.now_playing+"</span>");var d=e.data("src");if(o.find("iframe").attr("src",d),n.show_title){var r=e.find(".aiovg-hidden-title").html();o.find(".aiovg-player-title").html(r)}if(n.show_playlist_button&&o.find("aiovg-playlist-button").replaceWith('<aiovg-playlist-button post_id="'+l+'"></aiovg-playlist-button>'),n.show_like_button&&o.find("aiovg-like-button").replaceWith('<aiovg-like-button post_id="'+l+'"></aiovg-like-button>'),n.show_description){var c=e.find(".aiovg-hidden-description").html();o.find(".aiovg-player-description").html(c)}i("html, body").animate({scrollTop:o.offset().top-parseInt(a.scroll_to_top_offset)},500)}),o.on("click","a",function(i){i.stopPropagation()}),n.autoadvance&&window.addEventListener("message",function(i){"aiovg-video-ended"==i.data.message&&i.data.id==n.uid&&(e.is(":last-child")?n.loop&&o.find(".aiovg-item-video").eq(0).trigger("click"):e.next(".aiovg-item-video").trigger("click"))})}),i(".aiovg-slider-layout-inline").each(function(){var a=i(this),o=a.data("params"),e=!1,n=!1,l=t(a);l.on("beforeChange",function(t,o,n,l){if(n==l)return!1;a.find("iframe").remove();var s=i(o.$slides[l]),d=s.data("src");if(e){e=!1;var r=new URL(d),c=r.searchParams;c.set("autoplay",1),r.search=c.toString(),d=r.toString()}s.find(".aiovg-player").html('<iframe src="'+d+'" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>')}),l.on("afterChange",function(i,a,t){n=!1,t==a.$slides.length-1&&(n=!0)}),o.autoadvance&&window.addEventListener("message",function(i){"aiovg-video-ended"==i.data.message&&i.data.id==o.uid&&(n?o.loop&&(e=!0,l.slick("slickGoTo",0)):(e=!0,l.slick("slickNext")))})}),"undefined"!=typeof wp&&void 0!==wp.hooks){var o,e;wp.hooks.addFilter("aiovg_block_init","aiovg/videos",function(a){"slider"==a.template&&(e>0&&clearInterval(o),e=0,o=setInterval(function(){e++;var a=i(".aiovg-videos-template-slider:not(.aiovg-slick-initialized)");(a.length>0||e>=10)&&(clearInterval(o),e=0,a.each(function(){t(i(this))}))},1e3))})}})}(jQuery);